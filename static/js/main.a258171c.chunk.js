(this["webpackJsonpe-commerce"]=this["webpackJsonpe-commerce"]||[]).push([[0],{38:function(t,e,c){},39:function(t,e,c){},48:function(t,e,c){"use strict";c.r(e);var n=c(3),a=c.n(n),i=c(27),r=c.n(i),s=(c(38),c(39),c(7)),o=c(28),j=c(2);function d(t){return Object(j.jsx)("div",{children:Object(j.jsx)(o.a,{className:"FaOpencart"})})}function l(t){return Object(j.jsx)(s.c,{to:"/",className:"logo"})}function b(t){return Object(j.jsxs)("header",{children:[Object(j.jsx)(l,{}),Object(j.jsx)(s.b,{className:"categoria",to:"/categoria/pastas",children:"Pastas"}),Object(j.jsx)(s.b,{className:"categoria",to:"/categoria/instantaneos",children:"Instantaneos"}),Object(j.jsx)(s.b,{className:"categoria",to:"/categoria/cremas",children:"Cremas"}),Object(j.jsx)(s.b,{className:"categoria",to:"/categoria/salsas",children:"Salsas"}),Object(j.jsx)(s.b,{className:"cart",to:"/cart",children:Object(j.jsx)(d,{})})]})}var u=c(4),O=c(9);function m(t){var e=t.productos;return Object(j.jsxs)(s.b,{to:"/item/".concat(e.id),className:"gridItem",children:[Object(j.jsx)("img",{className:"productosImagen",src:e.pictureUrl,alt:e.title}),Object(j.jsx)("p",{children:e.title}),Object(j.jsxs)("p",{children:[e.price," PEN"]})]},e.id)}function f(t){var e=t.productos;return 0===e.length?Object(j.jsx)("h1",{className:"textoDeCarga",children:"Cargando..."}):Object(j.jsx)("div",{className:"gridContainer",children:e.map((function(t){return Object(j.jsx)(n.Fragment,{children:Object(j.jsx)(m,{productos:t})},t.id)}))})}var x=c(20);c(45);var h=x.a.initializeApp({apiKey:"AIzaSyDQ-ryLn7Yc_W9P-lIOKywbT7sJn4VSyi8",authDomain:"c-commerce-4b1f1.firebaseapp.com",projectId:"c-commerce-4b1f1",storageBucket:"c-commerce-4b1f1.appspot.com",messagingSenderId:"127371252876",appId:"1:127371252876:web:c15554f9575f65b1a5d7a9"});x.a.firestore().settings({experimentalForceLongPolling:!0});var p=x.a.firestore(h);function g(){console.log(void p.collection("items").get().then((function(t){t.docs.forEach((function(t){return t.data()}))})));var t=Object(u.f)().categoriaId,e=Object(n.useState)([]),c=Object(O.a)(e,2),a=c[0],i=c[1];return Object(n.useEffect)((function(){fetch("https://mocki.io/v1/1877bd17-9d63-41f4-8f17-a01f6bf6ebe9").then((function(t){return t.json()})).then((function(e){var c=e.filter((function(e){return t?e.categoria===t:e.categoria}));i(c)}))}),[t]),Object(j.jsxs)("div",{className:"main",children:[Object(j.jsx)(v,{Text:"Lista de productos"}),Object(j.jsx)(f,{productos:a})]})}function v(t){return Object(j.jsx)("h1",{children:t.Text})}var N=c(25),I=c(33),C=Object(n.createContext)({carrito:[]}),S=C.Provider,E=function(t){var e=t.children,c=Object(n.useState)([]),a=Object(O.a)(c,2),i=a[0],r=a[1];Object(n.useEffect)((function(){return console.log(i),function(){}}),[i]);var s=function(t){return i.find((function(e){return e.id===t}))},o={carrito:i,addItem:function(t){s(t.id)?s(t.id).cantidad!==t.cantidad?s(t.id).cantidad=t.cantidad:console.log("Ya existe ".concat(t.cantidad," de ").concat(t.title," en el carrito!")):r([].concat(Object(I.a)(i),[t]))},clear:function(){return r([])},removeItem:function(t){var e=i.filter((function(e){return e.id!==t}));r(e)},isInCart:s};return Object(j.jsx)(S,{value:o,children:e})};function k(t){var e=t.stock,c=t.initial,a=t.onAdd,i=Object(n.useState)(c),r=Object(O.a)(i,2),s=r[0],o=r[1];return Object(n.useEffect)((function(){return function(){}})),Object(j.jsxs)("div",{className:"contador",children:[Object(j.jsxs)("div",{children:["Stock: ",e]}),Object(j.jsxs)("div",{className:"selector",children:[Object(j.jsx)("button",{onClick:function(){s<e&&o(parseInt(s)+1)},children:"+"}),Object(j.jsx)("p",{className:"monto",children:s}),Object(j.jsx)("button",{onClick:function(){s>1&&o(parseInt(s)-1)},children:"-"})]}),Object(j.jsx)("button",{disabled:!(e>0),onClick:function(){e>1&&a(s)},children:"Agregar al carrito"})]})}function F(t){var e=t.item,c=Object(n.useState)(0),a=Object(O.a)(c,2),i=a[0],r=a[1],o=Object(n.useContext)(C).addItem;return Object(n.useEffect)((function(){return function(){}}),[i]),Object(j.jsxs)("div",{className:"itemDetail",children:[Object(j.jsx)("img",{className:"itemImagen",src:e.pictureUrl,alt:e.title}),Object(j.jsxs)("div",{className:"data",children:[Object(j.jsx)("p",{children:e.title}),Object(j.jsxs)("p",{children:[e.price," PEN"]}),0===i?Object(j.jsx)(k,{stock:e.stock,initial:1,onAdd:function(t){var c=Object(N.a)(Object(N.a)({},e),{},{cantidad:t});o(c),r(t)}}):Object(j.jsx)(s.b,{to:"/Cart",children:Object(j.jsx)("button",{children:"Terminar mi compra"})})]})]},e.id)}function D(){var t=Object(u.f)().itemId,e=Object(n.useState)([]),c=Object(O.a)(e,2),a=c[0],i=c[1];return Object(n.useEffect)((function(){new Promise((function(t,e){setTimeout((function(){return t(fetch("https://mocki.io/v1/1877bd17-9d63-41f4-8f17-a01f6bf6ebe9"))}),1e3)})).then((function(t){return t.json()})).then((function(e){var c=e.find((function(e){return e.id===Number(t)}));i(c)}))}),[t]),0===a.length?Object(j.jsx)("h1",{className:"textoDeCarga",children:"Cargando..."}):Object(j.jsx)("div",{className:"main",children:Object(j.jsx)(F,{item:a})})}var P=c(32);function T(t,e){e.del;var c=t.producto;return Object(j.jsxs)("div",{className:"cartReceiptData",children:[Object(j.jsxs)("div",{className:"cartItem",children:[Object(j.jsx)("img",{className:"cartThumbnail",src:c.pictureUrl,alt:c.title}),Object(j.jsxs)("div",{className:"cartInfo",children:[Object(j.jsx)("p",{children:c.title}),Object(j.jsxs)("p",{children:["P. Unidad: ",c.price," PEN"]}),Object(j.jsxs)("p",{children:["Cantidad: ",c.cantidad]})]})]}),Object(j.jsx)("button",{className:"cartBtn",children:Object(j.jsx)(P.a,{className:"cartDelButton"})}),Object(j.jsx)("div",{className:"cartSubtotal",children:Object(j.jsxs)("p",{children:["Subtotal: ",(c.price*c.cantidad).toFixed(2)]})})]})}function y(){var t=Object(n.useContext)(C),e=t.removeItem,c=t.carrito,a=Object(n.useState)(0),i=Object(O.a)(a,2),r=i[0],o=i[1],d=Object(n.useState)(0),l=Object(O.a)(d,2),b=l[0],u=l[1],m=0,f=0,x=function(t){console.log("DENTRO DE CART => ".concat(t.title))};return Object(n.useEffect)((function(){c.map((function(t){return o((m+=t.price.toFixed(2)*t.cantidad.toFixed(2)).toFixed(2))})),c.map((function(t){return u(f+=t.cantidad)}))}),[c,e]),c.length>0?Object(j.jsxs)("div",{className:"cartReceipt",children:[c.map((function(t){return Object(j.jsx)(n.Fragment,{children:Object(j.jsx)(T,{producto:t,del:x})},t.id)})),Object(j.jsxs)("div",{className:"cartCost",children:["Total: ",r]}),Object(j.jsxs)("div",{className:"cartCost",children:["Cantidad de items: ",b]})]}):Object(j.jsxs)("div",{className:"textoDeCarga",children:[Object(j.jsx)("div",{children:"No agregaste productos!"}),Object(j.jsx)(s.b,{to:"/",children:"volver al inicio"})]})}var A=function(){return Object(j.jsx)(s.a,{children:Object(j.jsxs)(E,{children:[Object(j.jsx)(b,{}),Object(j.jsxs)(u.c,{children:[Object(j.jsx)(u.a,{exact:!0,path:"/",component:g}),Object(j.jsx)(u.a,{path:"/categoria/:categoriaId",component:g}),Object(j.jsx)(u.a,{path:"/item/:itemId",component:D}),Object(j.jsx)(u.a,{path:"/cart",component:y})]})]})})},w=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,49)).then((function(e){var c=e.getCLS,n=e.getFID,a=e.getFCP,i=e.getLCP,r=e.getTTFB;c(t),n(t),a(t),i(t),r(t)}))};r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(A,{})}),document.getElementById("root")),w()}},[[48,1,2]]]);
//# sourceMappingURL=main.a258171c.chunk.js.map
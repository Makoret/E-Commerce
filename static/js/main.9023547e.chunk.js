(this["webpackJsonpe-commerce"]=this["webpackJsonpe-commerce"]||[]).push([[0],{40:function(e,t,c){},41:function(e,t,c){},50:function(e,t,c){"use strict";c.r(t);var a=c(3),n=c.n(a),i=c(28),r=c.n(i),s=(c(40),c(41),c(8)),o=c(20),j=c(2);function d(e){return Object(j.jsx)("div",{children:Object(j.jsx)(o.b,{className:"FaOpencart"})})}function l(e){return Object(j.jsx)(s.c,{to:"/",className:"logo"})}function u(e){return Object(j.jsxs)("header",{children:[Object(j.jsx)(l,{}),Object(j.jsx)(s.b,{className:"categoria",to:"/categoria/pastas",children:"Pastas"}),Object(j.jsx)(s.b,{className:"categoria",to:"/categoria/instantaneos",children:"Instantaneos"}),Object(j.jsx)(s.b,{className:"categoria",to:"/categoria/cremas",children:"Cremas"}),Object(j.jsx)(s.b,{className:"categoria",to:"/categoria/salsas",children:"Salsas"}),Object(j.jsx)(s.b,{className:"cart",to:"/Cart",children:Object(j.jsx)(d,{})})]})}var b=c(4),O=c(7);function m(e){var t=e.productos;return Object(j.jsxs)(s.b,{to:"/item/".concat(t.id),className:"gridItem",children:[Object(j.jsx)("img",{className:"productosImagen",src:t.pictureUrl,alt:t.title}),Object(j.jsx)("p",{children:t.title}),Object(j.jsxs)("p",{children:[t.price," PEN"]})]},t.id)}function x(e){var t=e.productos;return 0===t.length?Object(j.jsx)("h1",{className:"textoDeCarga",children:"Cargando..."}):Object(j.jsx)("div",{className:"gridContainer",children:t.map((function(e){return Object(j.jsx)(a.Fragment,{children:Object(j.jsx)(m,{productos:e})},e.id)}))})}var h=c(26),f=(c(47),h.a.initializeApp({apiKey:"AIzaSyD9FfANFl_QFY41mUP6ldMgEiNNGR9oyxg",authDomain:"e-commerce-294a5.firebaseapp.com",projectId:"e-commerce-294a5",storageBucket:"e-commerce-294a5.appspot.com",messagingSenderId:"787157324840",appId:"1:787157324840:web:3a2bffecc71310f6f2111d"})),p=h.a.firestore(f);function g(){var e=Object(b.f)().categoriaId,t=Object(a.useState)([]),c=Object(O.a)(t,2),n=c[0],i=c[1];return Object(a.useEffect)((function(){var t=[];p.collection("items").get().then((function(c){c.docs.forEach((function(e){t.push(e.data())}));var a=t.filter((function(t){return e?t.categoria===e:t.categoria}));i(a)})).catch((function(e){console.log(e)}))}),[e]),Object(j.jsxs)("div",{className:"main",children:[Object(j.jsx)(v,{Text:"Lista de productos"}),Object(j.jsx)(x,{productos:n})]})}function v(e){return Object(j.jsx)("h1",{children:e.Text})}var N=c(17),C=c(35),I=Object(a.createContext)({carrito:[]}),S=I.Provider,k=function(e){var t=e.children,c=Object(a.useState)([]),n=Object(O.a)(c,2),i=n[0],r=n[1];Object(a.useEffect)((function(){return function(){}}),[i]);var s=function(e){return i.find((function(t){return t.id===e}))},o={carrito:i,addItem:function(e){s(e.id)?s(e.id).cantidad!==e.cantidad?s(e.id).cantidad=e.cantidad:console.log("Ya existe ".concat(e.cantidad," de ").concat(e.title," en el carrito!")):r([].concat(Object(C.a)(i),[e]))},clearCart:function(){return r([])},removeItem:function(e){if(s(e.id)){var t=i.filter((function(t){return t.id!==e.id}));r(t)}},isInCart:s};return Object(j.jsx)(S,{value:o,children:t})};function F(e){var t=e.stock,c=e.initial,n=e.onAdd,i=Object(a.useState)(c),r=Object(O.a)(i,2),s=r[0],o=r[1];return Object(a.useEffect)((function(){return function(){}})),Object(j.jsxs)("div",{className:"contador",children:[Object(j.jsxs)("div",{children:["Stock: ",t]}),Object(j.jsxs)("div",{className:"selector",children:[Object(j.jsx)("button",{onClick:function(){s<t&&o(parseInt(s)+1)},children:"+"}),Object(j.jsx)("p",{className:"monto",children:s}),Object(j.jsx)("button",{onClick:function(){s>1&&o(parseInt(s)-1)},children:"-"})]}),Object(j.jsx)("button",{disabled:!(t>0),onClick:function(){t>1&&n(s)},children:"Agregar al carrito"})]})}function E(e){var t=e.item,c=Object(a.useState)(0),n=Object(O.a)(c,2),i=n[0],r=n[1],o=Object(a.useContext)(I).addItem;return Object(a.useEffect)((function(){return function(){}}),[i]),Object(j.jsxs)("div",{className:"itemDetail",children:[Object(j.jsx)("img",{className:"itemImagen",src:t.pictureUrl,alt:t.title}),Object(j.jsxs)("div",{className:"data",children:[Object(j.jsx)("p",{children:t.title}),Object(j.jsxs)("p",{children:[t.price," PEN"]}),0===i?Object(j.jsx)(F,{stock:t.stock,initial:1,onAdd:function(e){var c=Object(N.a)(Object(N.a)({},t),{},{cantidad:e});o(c),r(e)}}):Object(j.jsx)(s.b,{to:"/Cart",children:Object(j.jsx)("button",{children:"Terminar mi compra"})})]})]},t.id)}function D(){var e=Object(b.f)().itemId,t=Object(a.useState)([]),c=Object(O.a)(t,2),n=c[0],i=c[1];return Object(a.useEffect)((function(){var t=[];p.collection("items").get().then((function(c){c.docs.forEach((function(e){t.push(e.data())}));var a=t.find((function(t){return t.id===Number(e)}));i(a)})).catch((function(e){console.log(e)}))}),[e]),0===n.length?Object(j.jsx)("h1",{className:"textoDeCarga",children:"Cargando..."}):Object(j.jsx)("div",{className:"main",children:Object(j.jsx)(E,{item:n})})}var y=c(34),P=c(32),A=c(33);function B(e){var t=Object(a.useContext)(I).removeItem,c=e.producto;return Object(j.jsxs)("div",{className:"cartReceiptData",children:[Object(j.jsxs)("div",{className:"cartItem",children:[Object(j.jsx)("img",{className:"cartThumbnail",src:c.pictureUrl,alt:c.title}),Object(j.jsxs)("div",{className:"cartInfo",children:[Object(j.jsx)("p",{children:c.title}),Object(j.jsxs)("p",{children:[Object(j.jsx)(P.a,{})," ",c.price," PEN"]}),Object(j.jsxs)("p",{children:[Object(j.jsx)(A.a,{})," ",c.cantidad]})]})]}),Object(j.jsx)("button",{className:"cartBtn",onClick:function(){t(c)},children:Object(j.jsx)(y.a,{className:"cartDelButton"})}),Object(j.jsx)("div",{className:"cartSubtotal",children:Object(j.jsxs)("p",{children:["Subtotal: ",(c.price*c.cantidad).toFixed(2)]})})]})}function T(){var e=Object(a.useContext)(I),t=e.removeItem,c=e.carrito,n=e.clearCart,i=Object(a.useState)(0),r=Object(O.a)(i,2),d=r[0],l=r[1],u=Object(a.useState)(0),b=Object(O.a)(u,2),m=b[0],x=b[1],h=Object(a.useState)(""),f=Object(O.a)(h,2),g=f[0],v=f[1],C=Object(a.useState)(""),S=Object(O.a)(C,2),k=S[0],F=S[1],E=Object(a.useState)(""),D=Object(O.a)(E,2),y=D[0],P=D[1],A=Object(a.useState)(""),T=Object(O.a)(A,2),w=T[0],L=T[1],U=Object(a.useState)(""),R=Object(O.a)(U,2),z=R[0],J=R[1];return Object(a.useEffect)((function(){var e=0,t=0;c.map((function(t){return l((e+=t.price.toFixed(2)*t.cantidad.toFixed(2)).toFixed(2))})),c.map((function(e){return x(t+=e.cantidad)}))}),[c,t]),Object(j.jsx)("div",{className:"cartView",children:c.length>0?Object(j.jsxs)("div",{className:"cartData",children:[Object(j.jsxs)("div",{className:"cartReceipt",children:[c.map((function(e){return Object(j.jsx)(a.Fragment,{children:Object(j.jsx)(B,{producto:e})},e.id)})),Object(j.jsxs)("div",{className:"cartCost",children:["Cantidad: ",m,Object(j.jsx)("br",{}),"Costo total: ",d]}),Object(j.jsx)("input",{className:"delCart",type:"button",onClick:function(){return n()},value:"Vaciar Carrito"})]}),""!==w?Object(j.jsxs)("div",{className:"done",children:[Object(j.jsx)("h3",{children:"Codigo de boleta"}),Object(j.jsx)("div",{children:w})]}):Object(j.jsxs)("div",{className:"checkout",children:[Object(j.jsx)("h4",{children:"Compra ya!"}),Object(j.jsx)("input",{type:"text",placeholder:"name",onChange:function(e){return v(e.target.value)}}),Object(j.jsx)("input",{type:"text",placeholder:"phone",onChange:function(e){return P(e.target.value)}}),Object(j.jsx)("input",{type:"email",placeholder:"email",onChange:function(e){return F(e.target.value)}}),Object(j.jsx)("input",{className:"checkoutBtn",type:"button",value:"Checkout",onClick:function(){var e=p.collection("ordenes"),t={carrito:c,usuario:{nombre:g,correo:k,contacto:y},date:(J(Date().toLocaleString()),console.log(z),z),cantidad:m,costo:d},a=(e.add(t),[]);p.collection("ordenes").get().then((function(e){e.docs.forEach((function(e){a.push(Object(N.a)(Object(N.a)({},e.data()),{},{ID:e.id}))})),console.log(a);var t=a.find((function(e){return e.date===z}));console.log(t),L(t.ID)})).catch((function(e){console.log(e)})),n()}})]})]}):Object(j.jsx)(j.Fragment,{children:""!==w?Object(j.jsxs)("div",{className:"done",children:[Object(j.jsx)("h3",{children:"Codigo de boleta"}),Object(j.jsx)("div",{children:w})]}):Object(j.jsxs)("div",{className:"textoDeCarga",children:[Object(j.jsx)(s.b,{className:"home",to:"/",children:Object(j.jsx)(o.a,{className:"home"})}),Object(j.jsx)("div",{children:"No agregaste productos!"})]})})})}var w=function(){return Object(j.jsx)(s.a,{children:Object(j.jsxs)(k,{children:[Object(j.jsx)(u,{}),Object(j.jsxs)(b.c,{children:[Object(j.jsx)(b.a,{exact:!0,path:"/",component:g}),Object(j.jsx)(b.a,{path:"/categoria/:categoriaId",component:g}),Object(j.jsx)(b.a,{path:"/item/:itemId",component:D}),Object(j.jsx)(b.a,{path:"/cart",component:T})]})]})})},L=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,51)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,i=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),i(e),r(e)}))};r.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(w,{})}),document.getElementById("root")),L()}},[[50,1,2]]]);
//# sourceMappingURL=main.9023547e.chunk.js.map